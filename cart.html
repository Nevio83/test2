
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Warenkorb - Marktplatz</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link href="cart.css" rel="stylesheet">
    <link href="color-image-selection.css" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        /* Verstecke nur Farbkreise, NICHT die bildbasierte Farbauswahl */
        .color-circle,
        div[style*="border-radius: 50%"][style*="background"]:not(.cart-color-option):not([class*="cart-item-color"]),
        div[style*="border-radius: 50%"][style*="background-color"]:not(.cart-color-option):not([class*="cart-item-color"]),
        div[onclick*="selectColor"]:not(.cart-color-option),
        div[class*="color"][style*="width: 30px"]:not(.cart-color-option):not([class*="cart-item-color"]),
        div[class*="color"][style*="height: 30px"]:not(.cart-color-option):not([class*="cart-item-color"]),
        [style*="width: 30px"][style*="height: 30px"][style*="border-radius"]:not(.cart-color-option):not([class*="cart-item-color"]),
        [style*="width: 25px"][style*="height: 25px"][style*="border-radius"]:not(.cart-color-option):not([class*="cart-item-color"]) {
            display: none !important;
        }
        
        /* Stelle sicher, dass bildbasierte Farbauswahl sichtbar bleibt */
        .cart-item-color-selection,
        [class*="cart-item-color-selection"] {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 1 !important;
        }
        
        .cart-color-option,
        .cart-color-image,
        [class*="cart-color-option"] {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        /* Farbauswahl-Container f√ºr Scrolling */
        [class*="cart-color-options-scroll"] {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            overflow-x: auto !important;
        }
        
        /* Alle Farbauswahl-Styles sind jetzt in cart-color-selection-fix.css */
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="bi bi-shop" aria-hidden="true"></i> Marktplatz
            </a>
            <a href="index.html" class="btn btn-outline-primary">
                <i class="bi bi-arrow-left" aria-hidden="true"></i> Zur√ºck zum Shop
            </a>
        </div>
    </nav>

    <div class="main-container">
        <div class="page-header">
            <h1 class="page-title">
                <i class="bi bi-cart3" aria-hidden="true"></i> Ihr Warenkorb
            </h1>
            <p class="page-subtitle">√úberpr√ºfen Sie Ihre Artikel und schlie√üen Sie Ihre Bestellung ab</p>
        </div>

        <div id="cartContent">
            <!-- Wird dynamisch gef√ºllt -->
            <button class="checkout-btn" aria-label="Zur Kasse gehen">
                <i class="bi bi-cart-check" aria-hidden="true"></i>
                <span class="checkout-text">Jetzt sicher bezahlen</span>
            </button>
        </div>
    </div>

    <!-- Vorschl√§ge -->
    <div class="container my-5" id="suggestions-container" style="display: none;">
        <div class="row row-cols-1 row-cols-md-2 g-4" id="suggestions-grid">
            <!-- Vorschl√§ge werden hier dynamisch eingef√ºgt -->
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
    <script src="cart.js"></script>
    <script src="keyboard-shortcuts.js" defer></script>
    <script src="cart-color-images-only.js?v=2.0"></script>
    
    <script>
        // SOFORTIGER FIX - √úberschreibt alle anderen Styles
        function forceCartColorStyles() {
            console.log('üîß FORCE: Erzwinge Farbauswahl-Styles...');
            
            // Warte kurz und dann erzwinge Styles
            setTimeout(() => {
                const containers = document.querySelectorAll('.cart-item-color-selection');
                console.log('üîß FORCE: Gefundene Container:', containers.length);
                
                containers.forEach((container, index) => {
                    console.log(`üîß FORCE: Bearbeite Container ${index + 1}`);
                    
                    // FORCE - Nutze cart-color-selection-fix.css
                    // Lass CSS-Datei arbeiten, erzwinge nur Sichtbarkeit
                    container.classList.add('cart-item-color-selection');
                    container.style.display = 'flex';
                    container.style.visibility = 'visible';
                    container.style.opacity = '1';
                    
                    // Lass CSS-Datei die Arbeit machen
                    const images = container.querySelectorAll('img');
                    images.forEach(img => {
                        img.classList.add('cart-color-image');
                    });
                    
                    const options = container.querySelectorAll('.cart-color-option');
                    options.forEach(option => {
                        option.classList.add('cart-color-option');
                    });
                    
                    console.log(`‚úÖ FORCE: Container ${index + 1} erfolgreich gestylt`);
                });
                
                // CSS ist jetzt in cart.css - keine Injection n√∂tig
                console.log('‚úÖ FORCE: Styles aus cart.css werden verwendet');
            }, 500);
            
            // Wiederhole alle 2 Sekunden f√ºr 10 Sekunden
            let attempts = 0;
            const interval = setInterval(() => {
                attempts++;
                if (attempts > 5) {
                    clearInterval(interval);
                    return;
                }
                
                const containers = document.querySelectorAll('.cart-item-color-selection');
                if (containers.length > 0) {
                    console.log(`üîÑ FORCE: Wiederholung ${attempts}/5`);
                    forceCartColorStyles();
                }
            }, 2000);
        }
        
        // Starte sofort
        document.addEventListener('DOMContentLoaded', forceCartColorStyles);
        
        // Starte auch nach Warenkorb-Updates
        if (window.MutationObserver) {
            const observer = new MutationObserver(() => {
                forceCartColorStyles();
            });
            observer.observe(document.body, { childList: true, subtree: true });
        }
    </script>
    
    <script>
        // Gezielter Scrollbar Fix nur f√ºr Farbauswahl
        function enforceCartColorScrollbars() {
            // Nur Farbauswahl-Container
            const colorContainers = document.querySelectorAll('.cart-item-color-selection');
            console.log(`üé® Gefundene Farbauswahl-Container: ${colorContainers.length}`);
            
            colorContainers.forEach((container, index) => {
                // √úberpr√ºfe ob bereits konfiguriert
                if (container.dataset.scrollbarConfigured === 'true') {
                    console.log(`‚è≠Ô∏è Farbauswahl ${index + 1} bereits konfiguriert, √ºberspringe`);
                    return;
                }
                
                // Erzwinge Scrolling f√ºr alle Farbauswahlen - mit neuer CSS-Datei
                const images = container.querySelectorAll('img');
                if (images.length > 0) {
                    container.style.maxWidth = '700px';
                    container.style.overflowX = 'scroll';
                    container.style.display = 'flex';
                    container.style.gap = '8px';
                    container.style.width = 'calc(100% - 20px)';
                    container.style.minHeight = '140px';
                    container.style.padding = '20px 10px 25px 10px';
                    container.style.margin = '15px 0';
                    container.style.alignItems = 'center';
                    container.style.background = 'rgba(248, 249, 250, 0.3)';
                    container.style.borderRadius = '10px';
                    container.style.border = '2px solid #e9ecef';
                    container.dataset.scrollbarConfigured = 'true';
                    
                    console.log(`üìè Farbauswahl ${index + 1} f√ºr Vollbreite-Scrolling konfiguriert (${images.length} Bilder)`);
                    
                    // Pr√ºfe Scroll-Status nur einmal
                    setTimeout(() => {
                        const scrollWidth = container.scrollWidth;
                        const clientWidth = container.clientWidth;
                        const isScrollable = scrollWidth > clientWidth;
                        console.log(`üìè Farbauswahl ${index + 1}: scrollWidth=${scrollWidth}, clientWidth=${clientWidth}, scrollable=${isScrollable}`);
                    }, 100);
                }
            });
        }
        
        // F√ºhre Fix aus wenn DOM geladen ist
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üõí Warenkorb Farbauswahl-Scrollbar Fix wird initialisiert...');
            enforceCartColorScrollbars();
            
            // √úberwache √Ñnderungen im Warenkorb (mit Debouncing)
            const cartContent = document.getElementById('cartContent');
            if (cartContent) {
                let debounceTimer = null;
                
                const observer = new MutationObserver(function(mutations) {
                    let shouldReapply = false;
                    mutations.forEach(function(mutation) {
                        // Nur bei echten Inhalts√§nderungen, nicht bei Style-√Ñnderungen
                        if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                            const hasNewColorSelection = Array.from(mutation.addedNodes).some(node => 
                                node.nodeType === 1 && (
                                    node.classList?.contains('cart-item-color-selection') ||
                                    node.querySelector?.('.cart-item-color-selection')
                                )
                            );
                            if (hasNewColorSelection) {
                                shouldReapply = true;
                            }
                        }
                    });
                    
                    if (shouldReapply) {
                        // Debounce um Endlosschleifen zu vermeiden
                        if (debounceTimer) clearTimeout(debounceTimer);
                        debounceTimer = setTimeout(() => {
                            console.log('üîÑ Neue Farbauswahl erkannt, wende Scrollbar-Fix an');
                            enforceCartColorScrollbars();
                        }, 500);
                    }
                });
                
                observer.observe(cartContent, {
                    childList: true,
                    subtree: true,
                    attributes: false, // Keine Attribut-√Ñnderungen √ºberwachen
                    attributeOldValue: false,
                    characterData: false
                });
                
                console.log('üëÅÔ∏è MutationObserver f√ºr Warenkorb-Scrollbars aktiviert (mit Debouncing)');
            }
        });
    </script>
    
    <script>
        // Aggressives Entfernen aller Farbkreise
        function removeAllColorCircles() {
            // Alle m√∂glichen Selektoren f√ºr Farbkreise
            const selectors = [
                '.color-circle',
                '.color-option:not(.cart-color-option)',
                '.color-circle-cart',
                '.cart-color-selector',
                '[style*="border-radius: 50%"]',
                '[style*="background-color"][style*="width: 30px"]',
                '[style*="background-color"][style*="width: 25px"]',
                '[style*="background-color"][style*="width: 24px"]',
                'div[onclick*="selectColor"]',
                'input[type="radio"][name*="color"] + span',
                '.color-options:not(.cart-color-options)',
                '.color-options:not(.cart-color-options) > *'
            ];
            
            selectors.forEach(selector => {
                try {
                    const elements = document.querySelectorAll(selector);
                    elements.forEach(el => {
                        // Pr√ºfe ob es ein kleiner runder Kreis ist
                        const style = window.getComputedStyle(el);
                        const width = parseInt(style.width) || 0;
                        const height = parseInt(style.height) || 0;
                        const borderRadius = style.borderRadius;
                        
                        if ((width <= 50 && height <= 50 && width === height) || 
                            borderRadius.includes('50%') || 
                            el.classList.contains('color-circle') ||
                            el.classList.contains('color-option')) {
                            el.style.display = 'none !important';
                            el.remove(); // Entferne komplett
                        }
                    });
                } catch (e) {
                    // Ignoriere Fehler
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Sofort ausf√ºhren
            removeAllColorCircles();
            
            // Regelm√§√üig wiederholen
            setInterval(removeAllColorCircles, 100);
            
            // Bei DOM-√Ñnderungen
            const observer = new MutationObserver(removeAllColorCircles);
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });
            
            // M√ºll-Button Verschiebung
            moveTrashButtonsToQuantityControls();
        });
        
        // Script um M√ºll-Button rechts neben + Button zu verschieben
        function moveTrashButtonsToQuantityControls() {
            const cartItems = document.querySelectorAll('.cart-item');
            
            cartItems.forEach(cartItem => {
                const quantityControls = cartItem.querySelector('.quantity-controls');
                const removeBtn = cartItem.querySelector('.remove-btn');
                
                if (quantityControls && removeBtn && !quantityControls.contains(removeBtn)) {
                    quantityControls.appendChild(removeBtn);
                    console.log('M√ºll-Button verschoben f√ºr cart-item');
                }
            });
        }

        // Beobachte √Ñnderungen f√ºr M√ºll-Button Verschiebung
        const trashButtonObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    setTimeout(moveTrashButtonsToQuantityControls, 100);
                }
            });
        });

        const cartContentForTrash = document.getElementById('cartContent');
        if (cartContentForTrash) {
            trashButtonObserver.observe(cartContentForTrash, {
                childList: true,
                subtree: true
            });
        }
    </script>
</body>
</html>
=======
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Warenkorb - Marktplatz</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link href="cart.css" rel="stylesheet">
    <link href="color-image-selection.css" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        /* Verstecke nur Farbkreise, NICHT die bildbasierte Farbauswahl */
        .color-circle,
        div[style*="border-radius: 50%"][style*="background"]:not(.cart-color-option):not([class*="cart-item-color"]),
        div[style*="border-radius: 50%"][style*="background-color"]:not(.cart-color-option):not([class*="cart-item-color"]),
        div[onclick*="selectColor"]:not(.cart-color-option),
        div[class*="color"][style*="width: 30px"]:not(.cart-color-option):not([class*="cart-item-color"]),
        div[class*="color"][style*="height: 30px"]:not(.cart-color-option):not([class*="cart-item-color"]),
        [style*="width: 30px"][style*="height: 30px"][style*="border-radius"]:not(.cart-color-option):not([class*="cart-item-color"]),
        [style*="width: 25px"][style*="height: 25px"][style*="border-radius"]:not(.cart-color-option):not([class*="cart-item-color"]) {
            display: none !important;
        }
        
        /* Stelle sicher, dass bildbasierte Farbauswahl sichtbar bleibt */
        .cart-item-color-selection,
        [class*="cart-item-color-selection"] {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 1 !important;
        }
        
        .cart-color-option,
        .cart-color-image,
        [class*="cart-color-option"] {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        /* Farbauswahl-Container f√ºr Scrolling */
        [class*="cart-color-options-scroll"] {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            overflow-x: auto !important;
        }
        
        /* Alle Farbauswahl-Styles sind jetzt in cart-color-selection-fix.css */
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="bi bi-shop" aria-hidden="true"></i> Marktplatz
            </a>
            <a href="index.html" class="btn btn-outline-primary">
                <i class="bi bi-arrow-left" aria-hidden="true"></i> Zur√ºck zum Shop
            </a>
        </div>
    </nav>

    <div class="main-container">
        <div class="page-header">
            <h1 class="page-title">
                <i class="bi bi-cart3" aria-hidden="true"></i> Ihr Warenkorb
            </h1>
            <p class="page-subtitle">√úberpr√ºfen Sie Ihre Artikel und schlie√üen Sie Ihre Bestellung ab</p>
        </div>

        <div id="cartContent">
            <!-- Wird dynamisch gef√ºllt -->
            <button class="checkout-btn" aria-label="Zur Kasse gehen">
                <i class="bi bi-cart-check" aria-hidden="true"></i>
                <span class="checkout-text">Jetzt sicher bezahlen</span>
            </button>
        </div>
    </div>

    <!-- Vorschl√§ge -->
    <div class="container my-5" id="suggestions-container" style="display: none;">
        <div class="row row-cols-1 row-cols-md-2 g-4" id="suggestions-grid">
            <!-- Vorschl√§ge werden hier dynamisch eingef√ºgt -->
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
    <script src="cart.js"></script>
    <script src="keyboard-shortcuts.js" defer></script>
    <script src="cart-color-images-only.js?v=2.0"></script>
    
    <script>
        // SOFORTIGER FIX - √úberschreibt alle anderen Styles
        function forceCartColorStyles() {
            console.log('üîß FORCE: Erzwinge Farbauswahl-Styles...');
            
            // Warte kurz und dann erzwinge Styles
            setTimeout(() => {
                const containers = document.querySelectorAll('.cart-item-color-selection');
                console.log('üîß FORCE: Gefundene Container:', containers.length);
                
                containers.forEach((container, index) => {
                    console.log(`üîß FORCE: Bearbeite Container ${index + 1}`);
                    
                    // FORCE - Nutze cart-color-selection-fix.css
                    // Lass CSS-Datei arbeiten, erzwinge nur Sichtbarkeit
                    container.classList.add('cart-item-color-selection');
                    container.style.display = 'flex';
                    container.style.visibility = 'visible';
                    container.style.opacity = '1';
                    
                    // Lass CSS-Datei die Arbeit machen
                    const images = container.querySelectorAll('img');
                    images.forEach(img => {
                        img.classList.add('cart-color-image');
                    });
                    
                    const options = container.querySelectorAll('.cart-color-option');
                    options.forEach(option => {
                        option.classList.add('cart-color-option');
                    });
                    
                    console.log(`‚úÖ FORCE: Container ${index + 1} erfolgreich gestylt`);
                });
                
                // CSS ist jetzt in cart.css - keine Injection n√∂tig
                console.log('‚úÖ FORCE: Styles aus cart.css werden verwendet');
            }, 500);
            
            // Wiederhole alle 2 Sekunden f√ºr 10 Sekunden
            let attempts = 0;
            const interval = setInterval(() => {
                attempts++;
                if (attempts > 5) {
                    clearInterval(interval);
                    return;
                }
                
                const containers = document.querySelectorAll('.cart-item-color-selection');
                if (containers.length > 0) {
                    console.log(`üîÑ FORCE: Wiederholung ${attempts}/5`);
                    forceCartColorStyles();
                }
            }, 2000);
        }
        
        // Starte sofort
        document.addEventListener('DOMContentLoaded', forceCartColorStyles);
        
        // Starte auch nach Warenkorb-Updates
        if (window.MutationObserver) {
            const observer = new MutationObserver(() => {
                forceCartColorStyles();
            });
            observer.observe(document.body, { childList: true, subtree: true });
        }
    </script>
    
    <script>
        // Gezielter Scrollbar Fix nur f√ºr Farbauswahl
        function enforceCartColorScrollbars() {
            // Nur Farbauswahl-Container
            const colorContainers = document.querySelectorAll('.cart-item-color-selection');
            console.log(`üé® Gefundene Farbauswahl-Container: ${colorContainers.length}`);
            
            colorContainers.forEach((container, index) => {
                // √úberpr√ºfe ob bereits konfiguriert
                if (container.dataset.scrollbarConfigured === 'true') {
                    console.log(`‚è≠Ô∏è Farbauswahl ${index + 1} bereits konfiguriert, √ºberspringe`);
                    return;
                }
                
                // Erzwinge Scrolling f√ºr alle Farbauswahlen - mit neuer CSS-Datei
                const images = container.querySelectorAll('img');
                if (images.length > 0) {
                    container.style.maxWidth = '700px';
                    container.style.overflowX = 'scroll';
                    container.style.display = 'flex';
                    container.style.gap = '8px';
                    container.style.width = 'calc(100% - 20px)';
                    container.style.minHeight = '140px';
                    container.style.padding = '20px 10px 25px 10px';
                    container.style.margin = '15px 0';
                    container.style.alignItems = 'center';
                    container.style.background = 'rgba(248, 249, 250, 0.3)';
                    container.style.borderRadius = '10px';
                    container.style.border = '2px solid #e9ecef';
                    container.dataset.scrollbarConfigured = 'true';
                    
                    console.log(`üìè Farbauswahl ${index + 1} f√ºr Vollbreite-Scrolling konfiguriert (${images.length} Bilder)`);
                    
                    // Pr√ºfe Scroll-Status nur einmal
                    setTimeout(() => {
                        const scrollWidth = container.scrollWidth;
                        const clientWidth = container.clientWidth;
                        const isScrollable = scrollWidth > clientWidth;
                        console.log(`üìè Farbauswahl ${index + 1}: scrollWidth=${scrollWidth}, clientWidth=${clientWidth}, scrollable=${isScrollable}`);
                    }, 100);
                }
            });
        }
        
        // F√ºhre Fix aus wenn DOM geladen ist
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üõí Warenkorb Farbauswahl-Scrollbar Fix wird initialisiert...');
            enforceCartColorScrollbars();
            
            // √úberwache √Ñnderungen im Warenkorb (mit Debouncing)
            const cartContent = document.getElementById('cartContent');
            if (cartContent) {
                let debounceTimer = null;
                
                const observer = new MutationObserver(function(mutations) {
                    let shouldReapply = false;
                    mutations.forEach(function(mutation) {
                        // Nur bei echten Inhalts√§nderungen, nicht bei Style-√Ñnderungen
                        if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                            const hasNewColorSelection = Array.from(mutation.addedNodes).some(node => 
                                node.nodeType === 1 && (
                                    node.classList?.contains('cart-item-color-selection') ||
                                    node.querySelector?.('.cart-item-color-selection')
                                )
                            );
                            if (hasNewColorSelection) {
                                shouldReapply = true;
                            }
                        }
                    });
                    
                    if (shouldReapply) {
                        // Debounce um Endlosschleifen zu vermeiden
                        if (debounceTimer) clearTimeout(debounceTimer);
                        debounceTimer = setTimeout(() => {
                            console.log('üîÑ Neue Farbauswahl erkannt, wende Scrollbar-Fix an');
                            enforceCartColorScrollbars();
                        }, 500);
                    }
                });
                
                observer.observe(cartContent, {
                    childList: true,
                    subtree: true,
                    attributes: false, // Keine Attribut-√Ñnderungen √ºberwachen
                    attributeOldValue: false,
                    characterData: false
                });
                
                console.log('üëÅÔ∏è MutationObserver f√ºr Warenkorb-Scrollbars aktiviert (mit Debouncing)');
            }
        });
    </script>
    
    <script>
        // Aggressives Entfernen aller Farbkreise
        function removeAllColorCircles() {
            // Alle m√∂glichen Selektoren f√ºr Farbkreise
            const selectors = [
                '.color-circle',
                '.color-option:not(.cart-color-option)',
                '.color-circle-cart',
                '.cart-color-selector',
                '[style*="border-radius: 50%"]',
                '[style*="background-color"][style*="width: 30px"]',
                '[style*="background-color"][style*="width: 25px"]',
                '[style*="background-color"][style*="width: 24px"]',
                'div[onclick*="selectColor"]',
                'input[type="radio"][name*="color"] + span',
                '.color-options:not(.cart-color-options)',
                '.color-options:not(.cart-color-options) > *'
            ];
            
            selectors.forEach(selector => {
                try {
                    const elements = document.querySelectorAll(selector);
                    elements.forEach(el => {
                        // Pr√ºfe ob es ein kleiner runder Kreis ist
                        const style = window.getComputedStyle(el);
                        const width = parseInt(style.width) || 0;
                        const height = parseInt(style.height) || 0;
                        const borderRadius = style.borderRadius;
                        
                        if ((width <= 50 && height <= 50 && width === height) || 
                            borderRadius.includes('50%') || 
                            el.classList.contains('color-circle') ||
                            el.classList.contains('color-option')) {
                            el.style.display = 'none !important';
                            el.remove(); // Entferne komplett
                        }
                    });
                } catch (e) {
                    // Ignoriere Fehler
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Sofort ausf√ºhren
            removeAllColorCircles();
            
            // Regelm√§√üig wiederholen
            setInterval(removeAllColorCircles, 100);
            
            // Bei DOM-√Ñnderungen
            const observer = new MutationObserver(removeAllColorCircles);
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });
            
            // M√ºll-Button Verschiebung
            moveTrashButtonsToQuantityControls();
        });
        
        // Script um M√ºll-Button rechts neben + Button zu verschieben
        function moveTrashButtonsToQuantityControls() {
            const cartItems = document.querySelectorAll('.cart-item');
            
            cartItems.forEach(cartItem => {
                const quantityControls = cartItem.querySelector('.quantity-controls');
                const removeBtn = cartItem.querySelector('.remove-btn');
                
                if (quantityControls && removeBtn && !quantityControls.contains(removeBtn)) {
                    quantityControls.appendChild(removeBtn);
                    console.log('M√ºll-Button verschoben f√ºr cart-item');
                }
            });
        }

        // Beobachte √Ñnderungen f√ºr M√ºll-Button Verschiebung
        const trashButtonObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    setTimeout(moveTrashButtonsToQuantityControls, 100);
                }
            });
        });

        const cartContentForTrash = document.getElementById('cartContent');
        if (cartContentForTrash) {
            trashButtonObserver.observe(cartContentForTrash, {
                childList: true,
                subtree: true
            });
        }
    </script>
</body>
</html>
>>>>>>> 3f469a4c0bd924741fa8aa47c3dc16ee5e5203aa
