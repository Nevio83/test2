<!DOCTYPE html>
<html lang="de">
<head>
  <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/8e12f1f6a93c31ea65a1052f/script.js" defer></script> <!-- End cookieyes banner -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <title>Marktplatz - Startseite</title>
    <meta name="description" content="Online-Marktplatz mit besten Angeboten">
    <meta name="keywords" content="ecommerce, online shopping, elektronik, mode">
    <meta name="cjdropshipping-key" content="6b4d5d2c435d4aceb4473c792e94e5f5">
    
    <!-- Resource Preloading -->
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdn-cookieyes.com">
    <link rel="preload" href="styles.css?v=14.0" as="style">
    <link rel="preload" href="app.js?v=14.0" as="script">
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="styles.css?v=14.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"></noscript>
    <script>window.CJ_DROPSHIPPING_KEY='6b4d5d2c435d4aceb4473c792e94e5f5';</script>
    
    <style>
        /* KOMPLETT NEUE SCROLLBAR L√ñSUNG */
        .product-scroll-container {
            position: relative;
        }
        
        /* Neue graue Spur - GANZ LINKS */
        .product-scroll-container .custom-scrollbar-track {
            position: absolute;
            bottom: 12px;
            left: 0px;
            right: 110px;
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px;
        }
        
        /* Neue schwarze Scrollbar - GANZ LINKS */
        .product-scroll-container .custom-scrollbar-thumb {
            position: absolute;
            bottom: 12px;
            left: 0px;
            width: 100px;
            height: 6px;
            background: #000000;
            border-radius: 3px;
            z-index: 1;
            transition: transform 0.1s ease-out;
        }
        
        /* ENTFERNE GRID PADDING */
        .product-scroll-grid {
            padding: 0 20px 60px 0px !important;
        }
        
        /* Verstecke die alten ::before und ::after */
        .product-scroll-container::before,
        .product-scroll-container::after {
            display: none !important;
        }
        
        /* Simple animations matching product 4 exactly */
        .success-animation {
            animation: success-animation 1.2s ease-in-out;
        }
        .cart-icon-pulse {
            animation: cart-icon-pulse 1s ease-in-out;
        }
        .cart-rainbow-bounce {
            animation: cart-rainbow-bounce 1.2s ease-in-out;
        }
        .heart-pulse {
            animation: heart-pulse 1s ease-in-out;
        }
        
        @keyframes success-animation {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        @keyframes cart-icon-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        @keyframes cart-rainbow-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes heart-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        /* Notification slide animations */
        @keyframes slideInRight {
            0% {
                transform: translateX(100%);
                opacity: 0;
            }
            100% {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutRight {
            0% {
                transform: translateX(0);
                opacity: 1;
            }
            100% {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        .notification-slide-in {
            animation: slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .notification-slide-out {
            animation: slideOutRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
    </style>
</head>
<body>
    <!-- Lumi√®re Design Header -->
    <!-- Announcement Bar -->
    <div class="announcement-bar">
      <div class="announcement-slider">
        <div class="announcement-item">√úber 10.000 zufriedene Kunden</div>
        <div class="announcement-item">√úber 3.500+ Bewertungen</div>
        <div class="announcement-item">Gratis Versand ab 50‚Ç¨</div>
        <div class="announcement-item">√úber 10.000 zufriedene Kunden</div>
        <div class="announcement-item">√úber 3.500+ Bewertungen</div>
        <div class="announcement-item">Gratis Versand ab 50‚Ç¨</div>
      </div>
    </div>

    <!-- Simplified Navigation like in image -->
    <nav class="simple-nav">
      <div class="container">
        <div class="nav-content-simple">
          <!-- Logo -->
          <div class="nav-logo-simple">
            <a href="#" onclick="window.location.reload(); return false;">Marktplatz</a>
            <span class="nav-tagline"></span>
          </div>

          <!-- Search Bar -->
          <div class="search-bar-center">
            <form class="search-form mx-auto">
              <div class="input-group">
                <input type="search" id="searchInput" class="form-control rounded-pill" placeholder="Suche...">
                <button class="btn btn-primary rounded-pill px-3" type="button" aria-label="Suchen" id="mobileSearchBtn">
                  <i class="bi bi-search"></i>
                </button>
              </div>
            </form>
          </div>

          <!-- Right Side Icons -->
          <div class="nav-actions-simple">
            <a href="wishlist.html" id="wishlistButton" class="nav-icon-simple position-relative">
              <i class="bi bi-heart"></i>
              <span id="wishlistCounter" class="cart-counter" style="display: none;">0</span>
            </a>
            <div class="position-relative">
              <a href="#" id="cartButton" class="nav-icon-simple cart-link">
                <i class="bi bi-cart3"></i>
                <span>Warenkorb</span>
                <span id="cartCounter" class="cart-counter">0</span>
              </a>
              <!-- Cart Dropdown -->
              <div class="cart-dropdown" id="cartDropdown">
        <div class="cart-dropdown-header">
          <h6 class="mb-0">Warenkorb</h6>
          <button class="btn-close" id="closeCartDropdown">&times;</button>
        </div>
        <div class="cart-dropdown-body" id="cartDropdownBody">
          <div class="empty-cart text-center py-4" id="emptyCartMessage">
            <i class="bi bi-cart-x fs-1 text-muted"></i>
            <p class="text-muted mt-2">Ihr Warenkorb ist leer</p>
          </div>
        </div>
        <div class="cart-dropdown-footer" id="cartDropdownFooter" style="display: none;">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <strong>Gesamt: ‚Ç¨<span id="cartTotal">0.00</span></strong>
          </div>
          <div class="d-grid gap-2">
            <a href="cart.html" class="btn btn-primary">Zur Kasse</a>
            <button class="btn btn-outline-secondary" id="clearCart">
              <i class="bi bi-trash"></i>
            </button>
          </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
<style>
@media (max-width: 600px) {
  .container-fluid.nav-flex {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
  .nav-icons {
    margin-left: auto;
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 1.2rem;
  }
  .search-form {
    flex: 1 1 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 0.5rem;
    min-width: 0;
  }
}
</style>
<script>
// Mobile Suchfeld-Interaktion
function isMobile() {
  return window.innerWidth <= 600;
}
const searchInput = document.getElementById('searchInput');
const mobileSearchBtn = document.getElementById('mobileSearchBtn');
if (searchInput && mobileSearchBtn) {
  function showSearchField() {
    if (isMobile()) {
      searchInput.style.display = 'block';
      searchInput.style.width = '80vw';
      searchInput.focus();
      mobileSearchBtn.style.display = 'none';
    }
  }
  function hideSearchField() {
    if (isMobile()) {
      searchInput.style.display = 'none';
      searchInput.value = '';
      mobileSearchBtn.style.display = 'block';
    }
  }
  mobileSearchBtn.addEventListener('click', function(e) {
    e.preventDefault();
    if (isMobile()) {
      showSearchField();
    } else {
      // Desktop: Scroll to products without clearing search
      scrollToProducts();
    }
  });
  searchInput.addEventListener('blur', function() {
    setTimeout(hideSearchField, 150);
  });
  // Initialer Zustand
  if (isMobile()) {
    searchInput.style.display = 'none';
    mobileSearchBtn.style.display = 'block';
  }
}

// Function to scroll to products without clearing search
function scrollToProducts() {
  // Scroll to product grid
  const productGrid = document.getElementById('productGrid');
  if (productGrid) {
    productGrid.scrollIntoView({ behavior: 'smooth' });
  }
}

// Add Enter key functionality to search input
document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('searchInput');
  if (searchInput) {
    searchInput.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        scrollToProducts();
      }
    });
  }
});
</script>

    <!-- Main Content -->
    <main>
        <!-- Lumi√®re Style Hero Section -->
        <section class="hero-section">
            <div class="container">
                <h1 class="section-heading">Moderne Produkte f√ºr dein Zuhause</h1>
                <p class="section-subheading">Jetzt direkt bestellen! ‚úì 1-3 Tage Lieferzeit ‚úì √úber 10.000 Kunden ‚úì 4,8 Sterne Bewertung</p>
            </div>
        </section>

        <!-- Lumi√®re Adapted Top Banner -->
        <section class="lumiere-top-banner">
            <div class="container">
                <div class="lumiere-hero-main">
                    <div class="lumiere-badge-circle">10</div>
                    <div class="lumiere-hero-text">
                        <h2>Smart Home & Sicherheit Angebote</h2>
                        <p>Homematic IP Neuheiten & Highlights f√ºr die produkte</p>
                    </div>
                    <div class="lumiere-hero-products">
                        <img src="produkt bilder/ware.png" alt="Smart Home Device 1" class="lumiere-hero-img">
                        <img src="produkt bilder/ware.png" alt="Smart Home Device 2" class="lumiere-hero-img">
                        <img src="produkt bilder/ware.png" alt="Smart Home Device 3" class="lumiere-hero-img">
                </div>
            </div>
        </section>

        <!-- Products Section - Lumi√®re Style with Swipe -->
        <section class="products-section">
            <div class="container">
                <!-- Bestseller Section - WITH SCROLL CONTROLS -->
        <section class="product-category-section">
            <div class="container">
                <div class="category-header">
                    <h2 class="category-title">Bestseller</h2>
                    <div class="scroll-controls">
                        <button class="scroll-btn scroll-left" data-target="bestsellerGrid">
                            <i class="bi bi-chevron-left"></i>
                        </button>
                        <button class="scroll-btn scroll-right" data-target="bestsellerGrid">
                            <i class="bi bi-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="product-scroll-container">
                    <div class="product-scroll-grid" id="bestsellerGrid">
                        <!-- Bestseller products will be loaded here -->
                    </div>
                </div>
            </div>
        </section>          <!-- Lumi√®re Category Navigation -->
                <section class="lumiere-category-nav">
                    <div class="container">
                        <div class="lumiere-category-tabs">
                            <a href="#" class="lumiere-category-tab active" data-category="alle">
                                <i class="bi bi-grid-3x3-gap"></i>
                                <span>Alle Kategorien</span>
                            </a>
                            <a href="#" class="lumiere-category-tab" data-category="Technik/Gadgets">
                                <i class="bi bi-cpu"></i>
                                <span>Technik/Gadgets</span>
                            </a>
                            <a href="#" class="lumiere-category-tab" data-category="Beleuchtung">
                                <i class="bi bi-lightbulb"></i>
                                <span>Beleuchtung</span>
                            </a>
                            <a href="#" class="lumiere-category-tab" data-category="K√∂rperpflege/Wellness">
                                <i class="bi bi-heart-pulse"></i>
                                <span>K√∂rperpflege/Wellness</span>
                            </a>
                            <a href="#" class="lumiere-category-tab" data-category="Haushalt und K√ºche">
                                <i class="bi bi-house"></i>
                                <span>Haushalt und K√ºche</span>
                            </a>
                        </div>
                    </div>
                </section>

                <!-- Alle Produkte Section Header -->
                <div class="category-header" style="margin-top: 3rem; margin-bottom: 2rem;">
                    <h2 class="category-title">Alle Produkte</h2>
                    <p class="category-subtitle">Entdecken Sie unser gesamtes Sortiment nach Kategorien.</p>
                </div>

                <!-- Technik/Gadgets Section - WITH SCROLL CONTROLS -->
        <section class="product-category-section">
            <div class="container">
                <div class="category-header">
                    <h2 class="category-title">Technik/Gadgets</h2>
                    <div class="scroll-controls">
                        <button class="scroll-btn scroll-left" data-target="technikGrid">
                            <i class="bi bi-chevron-left"></i>
                        </button>
                        <button class="scroll-btn scroll-right" data-target="technikGrid">
                            <i class="bi bi-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="product-scroll-container">
                    <div class="product-scroll-grid" id="technikGrid">
                        <!-- Technik products will be loaded here -->
                    </div>
                </div>
            </div>
        </section>          <!-- Beleuchtung Section - WITH SCROLL CONTROLS -->
        <section class="product-category-section">
            <div class="container">
                <div class="category-header">
                    <h2 class="category-title">Beleuchtung</h2>
                    <div class="scroll-controls">
                        <button class="scroll-btn scroll-left" data-target="beleuchtungGrid">
                            <i class="bi bi-chevron-left"></i>
                        </button>
                        <button class="scroll-btn scroll-right" data-target="beleuchtungGrid">
                            <i class="bi bi-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="product-scroll-container">
                    <div class="product-scroll-grid" id="beleuchtungGrid">
                        <!-- Beleuchtung products will be loaded here -->
                    </div>
                </div>
            </div>
        </section>          <!-- Haushalt und K√ºche Section - WITH SCROLL CONTROLS -->
        <section class="product-category-section">
            <div class="container">
                <div class="category-header">
                    <h2 class="category-title">Haushalt und K√ºche</h2>
                    <div class="scroll-controls">
                        <button class="scroll-btn scroll-left" data-target="haushaltGrid">
                            <i class="bi bi-chevron-left"></i>
                        </button>
                        <button class="scroll-btn scroll-right" data-target="haushaltGrid">
                            <i class="bi bi-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="product-scroll-container">
                    <div class="product-scroll-grid" id="haushaltGrid">
                        <!-- Haushalt products will be loaded here -->
                    </div>
                </div>
            </div>
        </section>          <!-- K√∂rperpflege/Wellness Section - WITH SCROLL CONTROLS -->
        <section class="product-category-section">
            <div class="container">
                <div class="category-header">
                    <h2 class="category-title">K√∂rperpflege/Wellness</h2>
                    <div class="scroll-controls">
                        <button class="scroll-btn scroll-left" data-target="wellnessGrid">
                            <i class="bi bi-chevron-left"></i>
                        </button>
                        <button class="scroll-btn scroll-right" data-target="wellnessGrid">
                            <i class="bi bi-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="product-scroll-container">
                    <div class="product-scroll-grid" id="wellnessGrid">
                        <!-- Wellness products will be loaded here -->
                    </div>
                </div>
            </div>
        </section>
        </section>

        <!-- Product Template - Lumi√®re Style -->
        <template id="productTemplate">
            <div class="lumiere-product-card">
                <div class="lumiere-image-container">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Crect width='100%25' height='100%25' fill='%23f0f0f0'/%3E%3C/svg%3E" data-src="produkt bilder/ware.png" alt="" class="lumiere-product-image lazy-load">
                    <button class="lumiere-wishlist-btn" aria-label="Zur Wunschliste hinzuf√ºgen">
                        <i class="bi bi-heart"></i>
                    </button>
                </div>
                <div class="lumiere-card-content">
                    <h3 class="lumiere-product-title"></h3>
                    <p class="lumiere-product-description"></p>
                    <div class="lumiere-price-section">
                        <span class="lumiere-price"></span>
                    </div>
                    <button class="lumiere-add-to-cart-btn">
                        In den Warenkorb
                    </button>
                </div>
            </div>
        </template>
</main>

    <!-- Footer -->
    <footer class="lumiere-footer">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h5 class="mb-3">√úber uns</h5>
                    <p class="text-muted">Ihr vertrauensw√ºrdiger Online-Marktplatz seit 2024.</p>
                    <div class="social-icons">
                        <a href="#" class="text-white me-3" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-white me-3" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="text-white" aria-label="Twitter"><i class="bi bi-twitter-x"></i></a>
                    </div>
                </div>
                <div class="col-md-2">
                    <h5 class="mb-3">Einkaufen</h5>
                    <ul class="list-unstyled">
                        <li><a href="infos/angebote.html" class="text-white text-decoration-none">Angebote</a></li>
                        <li><a href="infos/neue-produkte.html" class="text-white text-decoration-none">Neue Produkte</a></li>
                        <li><a href="infos/kategorien.html" class="text-white text-decoration-none">Kategorien</a></li>
                    </ul>
                </div>
                <div class="col-md-2">
                    <h5 class="mb-3">Support</h5>
                    <ul class="list-unstyled">
                        <li><a href="infos/kontakt.html" class="text-white text-decoration-none">Kontakt</a></li>
                        <li><a href="infos/versand.html" class="text-white text-decoration-none">Versand</a></li>
                        <li><a href="infos/retouren.html" class="text-white text-decoration-none">Retouren</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center py-4 text-muted">
                2024 Marktplatz - Alle Rechte vorbehalten
            </div>
        </div>
    </footer>
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="app.js?v=19.0" defer></script>
    
    <script>
    // ULTIMATE ANIMATION FIX: Brute force approach
    function ultimateAnimationFix() {
        console.log(' ULTIMATE animation fix starting...');
        
        // Find ALL wishlist buttons and fix them
        const allWishlistButtons = document.querySelectorAll('.lumiere-wishlist-btn');
        console.log(`Found ${allWishlistButtons.length} wishlist buttons total`);
        
        allWishlistButtons.forEach((btn, index) => {
            const productId = btn.dataset.productId;
            
            // Skip if already fixed
            if (btn.hasAttribute('data-ultimate-fixed')) return;
            btn.setAttribute('data-ultimate-fixed', 'true');
            
            // Clone button to remove all existing listeners
            const newBtn = btn.cloneNode(true);
            btn.parentNode.replaceChild(newBtn, btn);
            
            // Add new click listener - let app.js handle the animation
            newBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                console.log(`üöÄ ULTIMATE click for product ${productId}`);
                
                // Call original function - app.js will handle all animations
                if (window.toggleWishlist) {
                    window.toggleWishlist(parseInt(productId));
                }
            });
            
            console.log(`üöÄ ULTIMATE fixed button ${index} for product ${productId}`);
        });
        
        console.log('üöÄ ULTIMATE animation fix completed');
    }
    
    // Add CSS for float animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes float-up {
            0% { transform: translateX(-50%) translateY(0); opacity: 1; }
            100% { transform: translateX(-50%) translateY(-30px); opacity: 0; }
        }
    `;
    document.head.appendChild(style);
    
    // Call ULTIMATE fix multiple times
    setTimeout(ultimateAnimationFix, 1000);
    setTimeout(ultimateAnimationFix, 3000);
    setTimeout(ultimateAnimationFix, 5000);
    
    // Also fix after category clicks
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('lumiere-category-tab')) {
            setTimeout(ultimateAnimationFix, 500);
            setTimeout(ultimateAnimationFix, 1500);
        }
    });
    
    // Fix on any page interaction
    document.addEventListener('click', function() {
        setTimeout(ultimateAnimationFix, 100);
    });
    
    // DRAG SCROLLING - DIREKT IM HTML
    function initializeDragScrolling() {
        console.log('üéØ Initializing drag scrolling in HTML...');
        
        const scrollContainers = document.querySelectorAll('.product-scroll-grid');
        
        scrollContainers.forEach((container, index) => {
            console.log(`üéØ Setting up drag for slider ${index + 1}: ${container.id}`);
            
            let isDown = false;
            let startX;
            let scrollLeft;
            
            // Make container draggable
            container.style.cursor = 'grab';
            container.style.userSelect = 'none';
            
            // Mouse down
            container.addEventListener('mousedown', (e) => {
                // Skip buttons
                if (e.target.tagName === 'BUTTON' || 
                    e.target.closest('button') || 
                    e.target.closest('.lumiere-wishlist-btn') ||
                    e.target.closest('.lumiere-add-to-cart-btn')) {
                    return;
                }
                
                isDown = true;
                container.style.cursor = 'grabbing';
                startX = e.pageX - container.offsetLeft;
                scrollLeft = container.scrollLeft;
                e.preventDefault();
                console.log(`üéØ Drag started on ${container.id}`);
            });
            
            // Mouse up
            container.addEventListener('mouseup', () => {
                if (isDown) {
                    isDown = false;
                    container.style.cursor = 'grab';
                    console.log(`üéØ Drag ended on ${container.id}`);
                }
            });
            
            // Mouse leave
            container.addEventListener('mouseleave', () => {
                if (isDown) {
                    isDown = false;
                    container.style.cursor = 'grab';
                }
            });
            
            // Mouse move - THE ACTUAL DRAGGING
            container.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                
                const x = e.pageX - container.offsetLeft;
                const walk = (x - startX) * 2;
                const newScrollLeft = Math.max(0, Math.min(container.scrollWidth - container.clientWidth, scrollLeft - walk));
                
                // Use scrollTo like the buttons do
                container.scrollTo({
                    left: newScrollLeft,
                    behavior: 'auto'
                });
                
                console.log(`üéØ Dragging ${container.id}: scrollLeft=${newScrollLeft}`);
                
                // Update scrollbar if function exists
                if (window.updateScrollbarPositionForGrid) {
                    window.updateScrollbarPositionForGrid(container.id);
                }
            });
            
            console.log(`‚úÖ Drag setup completed for ${container.id}`);
        });
        
        console.log(`‚úÖ Drag scrolling initialized for ${scrollContainers.length} containers`);
    }
    
    // Initialize drag after page loads
    setTimeout(initializeDragScrolling, 1000);
    setTimeout(initializeDragScrolling, 3000);
    setTimeout(initializeDragScrolling, 5000);
    
    // Lade Produkte in Kategorie-Container (inline fix)
    function loadCategoryProducts(products) {
      console.log('üîÑ Loading products into category containers...');
      console.log('üîÑ Total products available:', products.length);
      
      // Definiere Kategorie-Mappings
      const categoryMappings = {
        'technikGrid': 'Technik/Gadgets',
        'beleuchtungGrid': 'Beleuchtung', 
        'haushaltGrid': 'Haushalt und K√ºche',
        'wellnessGrid': 'K√∂rperpflege/Wellness'
      };
      
      // F√ºr jede Kategorie
      Object.entries(categoryMappings).forEach(([gridId, categoryName]) => {
        console.log(`üîß Processing category: ${categoryName} -> ${gridId}`);
        
        const grid = document.getElementById(gridId);
        if (!grid) {
          console.warn(`‚ùå Grid ${gridId} not found`);
          return;
        }
        
        // Filtere Produkte f√ºr diese Kategorie
        const categoryProducts = products.filter(product => product.category === categoryName);
        console.log(`üì¶ ${categoryName}: ${categoryProducts.length} products found`);
        
        if (categoryProducts.length > 0) {
          console.log(`‚úÖ Rendering ${categoryProducts.length} products to ${gridId}`);
          // Rendere Produkte in diesen Container
          renderProductsToGrid(categoryProducts, grid);
        } else {
          console.warn(`‚ö†Ô∏è No products found for category: ${categoryName}`);
        }
      });
      
      console.log('‚úÖ Category products loading completed');
      
      // Initialize scrollbar tracking for all category grids after products are loaded
      setTimeout(() => {
        if (window.initializeScrollbarTracking) {
          window.initializeScrollbarTracking();
        }
      }, 200);
    }
    
    // Make function globally available
    window.loadCategoryProducts = loadCategoryProducts;
    </script>
    
    <script>
      // Sanfter Cache-Breaker ohne automatisches Neuladen
      console.log('Cache-Breaker aktiviert (sanft)...');
      
      // CSS mit Zeitstempel neu laden, aber ohne Seiten-Reload
      const links = document.querySelectorAll('link[rel="stylesheet"]');
      links.forEach(link => {
        const href = link.getAttribute('href');
        if (href && href.includes('styles.css')) {
          const timestamp = Date.now();
          const newHref = href.split('?')[0] + '?v=' + timestamp;
          console.log('Neue CSS-URL:', newHref);
          link.setAttribute('href', newHref);
        }
      });
      
      // Optional: Caches l√∂schen, aber ohne Neuladen
      if ('caches' in window) {
        caches.keys().then(function(names) {
          console.log('L√∂sche Caches:', names);
          for (let name of names) caches.delete(name);
        });
      }
    </script>
    <!-- Nach oben Button -->
    <button id="scrollToTopBtn" aria-label="Nach oben" style="position:fixed; bottom:100px; left:30px; z-index:9998; width:56px; height:56px; border-radius:50%; background:linear-gradient(135deg,#667eea,#764ba2); color:#fff; border:none; box-shadow:0 4px 16px rgba(102,126,234,0.18); font-size:2rem; display:flex; align-items:center; justify-content:center; transition:background 0.2s, box-shadow 0.2s; cursor:pointer;">
      <span style="display:flex; align-items:center; justify-content:center; width:100%; height:100%;"><i class="bi bi-arrow-up"></i></span>
    </button>
    <script>
      const scrollToTopBtn = document.getElementById('scrollToTopBtn');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          scrollToTopBtn.classList.add('show');
        } else {
          scrollToTopBtn.classList.remove('show');
        }
      });
      scrollToTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    </script>

<!-- Hilfe-Button und Panel (ultra-modernes Design) -->
<div id="hilfeButton" aria-label="Hilfe √∂ffnen" style="display: flex !important; visibility: visible !important; opacity: 1 !important;">
  <!-- Icon wird jetzt √ºber CSS ::after pseudo-element angezeigt -->
</div>
<div id="hilfePanel" class="hilfe-panel">
  <!-- Lila Header f√ºr Hauptseite -->
  <div class="hilfe-panel-header" id="hilfePanelHeader">
    <i class="bi bi-question-circle"></i>
    <span>Hilfe & Support</span>
    <button id="hilfePanelClose" aria-label="Hilfe schlie√üen">&times;</button>
  </div>
  
  <!-- Chatbot Interface -->
  <div id="chatbotInterface" class="chatbot-interface">
    <div class="chatbot-header">
      <i class="bi bi-arrow-left"></i>
      <span>Support </span>
    </div>
    
    <div class="chatbot-messages" id="chatbotMessages">
      <!-- Messages will be added here dynamically -->
    </div>
    
    <!-- Feedback Buttons (werden dynamisch hinzugef√ºgt) -->
    <div id="feedbackButtons" class="feedback-buttons" style="display: none;">
      <button class="feedback-btn helpful-btn">
        <i class="bi bi-hand-thumbs-up"></i>
        Ja, das war hilfreich
      </button>
      <button class="feedback-btn not-helpful-btn">
        <i class="bi bi-hand-thumbs-down"></i>
        Nein, das war nicht hilfreich
      </button>
    </div>
  </div>
  
  <!-- Hilfe-Themen (wird ausgeblendet wenn Chatbot aktiv ist) -->
  <div id="hilfeThemen" class="hilfe-themen-modern">

    <button class="hilfe-thema-btn" data-topic="bestellung">Bestellung stornieren</button>
    <button class="hilfe-thema-btn" data-topic="versand">Versand & Lieferzeiten</button>
    <button class="hilfe-thema-btn" data-topic="rabattcodes">Mehrere Rabattcodes</button>
    <button class="hilfe-thema-btn" data-topic="kaeuferschutz">Was ist K√§uferschutz?</button>
    <button class="hilfe-thema-btn" data-topic="adresse">Adresse √§ndern</button>
    <button class="hilfe-thema-btn" data-topic="zahlung">Zahlungsmethoden</button>
    <button class="hilfe-thema-btn" data-topic="konto">Konto & Profil</button>
  </div>
</div>
<script>
  // Debug: Pr√ºfe ob Elemente gefunden werden
  console.log('Script l√§dt...');
  
  const hilfeButton = document.getElementById('hilfeButton');
  const hilfePanel = document.getElementById('hilfePanel');
  const hilfePanelClose = document.getElementById('hilfePanelClose');
  const hilfePanelHeader = document.getElementById('hilfePanelHeader');
  const chatbotInterface = document.getElementById('chatbotInterface');
  const hilfeThemen = document.getElementById('hilfeThemen');
  const chatbotMessages = document.getElementById('chatbotMessages');
  const backButton = document.querySelector('.chatbot-header .bi-arrow-left');
  

  
  console.log('hilfeButton:', hilfeButton);
  console.log('hilfePanel:', hilfePanel);
  
  // Hilfe-Button sofort sichtbar machen
  if (hilfeButton) {
    hilfeButton.style.display = 'flex';
    hilfeButton.style.visibility = 'visible';
    hilfeButton.style.opacity = '1';
    console.log('Hilfe-Button wurde sichtbar gemacht');
  }
  
  // Debug: Teste Panel-Sichtbarkeit
  if (hilfePanel) {
    console.log('Initial hilfePanel display:', window.getComputedStyle(hilfePanel).display);
    console.log('Initial hilfePanel visibility:', window.getComputedStyle(hilfePanel).visibility);
    console.log('Initial hilfePanel opacity:', window.getComputedStyle(hilfePanel).opacity);
  }
  
  // Function to check if device is mobile
  function isMobileDevice() {
    return window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
  }

  // Event Listener f√ºr Hilfe-Button
  if (hilfeButton) {
    hilfeButton.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      console.log('Hilfe-Button geklickt!');
      
      // Pr√ºfe aktuellen Zustand
      const isOpen = hilfePanel.classList.contains('offen');
      console.log('Panel ist offen:', isOpen);
      
      if (isOpen) {
        // Panel schlie√üen
        hilfePanel.classList.remove('offen');
        document.body.classList.remove('help-panel-open');
        hilfePanel.style.display = 'none';
        
        // Restore body styles (especially important for mobile)
        document.body.style.overflow = '';
        document.body.style.height = '';
        
        hideChatbot();
        console.log('Panel geschlossen');
      } else {
        // Panel √∂ffnen
        hilfePanel.classList.add('offen');
        document.body.classList.add('help-panel-open');
        console.log('Panel ge√∂ffnet');
        
        // Force visibility
        hilfePanel.style.display = 'flex';
        hilfePanel.style.visibility = 'visible';
        hilfePanel.style.opacity = '1';
        hilfePanel.style.zIndex = '2147483647';
        hilfePanel.style.position = 'fixed';
        
        // Check if mobile device for fullscreen behavior
        if (isMobileDevice()) {
          // Mobile: Fullscreen styling
          hilfePanel.style.top = '0';
          hilfePanel.style.left = '0';
          hilfePanel.style.right = '0';
          hilfePanel.style.bottom = '0';
          hilfePanel.style.transform = 'none';
          hilfePanel.style.width = '100vw';
          hilfePanel.style.height = '100vh';
          hilfePanel.style.maxWidth = '100vw';
          hilfePanel.style.maxHeight = '100vh';
          hilfePanel.style.minHeight = '100vh';
          hilfePanel.style.borderRadius = '0';
          hilfePanel.style.border = 'none';
          // Prevent scrolling on body
          document.body.style.overflow = 'hidden';
          document.body.style.height = '100vh';
        } else {
          // Desktop: Normal panel styling
          hilfePanel.style.top = '50%';
          hilfePanel.style.right = '20px';
          hilfePanel.style.left = 'auto';
          hilfePanel.style.bottom = 'auto';
          hilfePanel.style.transform = 'translateY(-50%) scale(1)';
          hilfePanel.style.width = '440px';
          hilfePanel.style.maxWidth = '95vw';
          hilfePanel.style.height = 'auto';
          hilfePanel.style.minHeight = '500px';
          hilfePanel.style.maxHeight = '650px';
          hilfePanel.style.borderRadius = '28px';
        }
      }
    });
  } else {
    console.error('hilfeButton nicht gefunden!');
  }
  
  // Vorgefertigte Antworten f√ºr verschiedene Themen
  const topicResponses = {

    bestellung: {
      question: "Bestellung stornieren",
      answer: "Sie k√∂nnen Ihre Bestellung innerhalb von 2 Stunden nach der Bestellung stornieren. Gehen Sie zu Ihren Bestellungen und klicken Sie auf 'Stornieren'. Nach 2 Stunden k√∂nnen Bestellungen nur noch √ºber unseren Kundenservice storniert werden.",
      additionalInfo: "F√ºr Stornierungen nach 2 Stunden kontaktieren Sie uns bitte telefonisch unter 0800-123456 oder per E-Mail an stornierung@marktplatz.de. Bitte haben Sie Ihre Bestellnummer bereit."
    },
    versand: {
      question: "Versand & Lieferzeiten",
      answer: "Standardversand: 3-5 Werktage. Expressversand: 1-2 Werktage. Kostenloser Versand ab 50‚Ç¨ Bestellwert. Tracking-Informationen erhalten Sie per E-Mail sobald Ihre Bestellung versendet wird.",
      additionalInfo: "Bei Verz√∂gerungen kontaktieren Sie uns unter 0800-123456 oder versand@marktplatz.de. Wir k√∂nnen Ihnen dann den aktuellen Status Ihrer Bestellung mitteilen und bei Problemen helfen."
    },
    rabattcodes: {
      question: "Mehrere Rabattcodes",
      answer: "Sie k√∂nnen nur einen Rabattcode pro Bestellung verwenden. Der Code mit dem h√∂chsten Rabatt wird automatisch angewendet. Kombinieren Sie Rabattcodes nicht mit anderen Aktionen.",
      additionalInfo: "Falls Ihr Rabattcode nicht funktioniert, pr√ºfen Sie bitte das Ablaufdatum und die Bedingungen. Bei Problemen kontaktieren Sie uns unter rabatt@marktplatz.de oder 0800-123456."
    },
    kaeuferschutz: {
      question: "Was ist K√§uferschutz?",
      answer: "Unser K√§uferschutz garantiert Ihnen: 30 Tage R√ºckgaberecht, sichere Zahlung, K√§uferschutz durch PayPal/Stripe, und 24/7 Kundenservice. Ihre Daten sind durch SSL-Verschl√ºsselung gesch√ºtzt.",
      additionalInfo: "Bei Problemen mit dem K√§uferschutz kontaktieren Sie uns unter sicherheit@marktplatz.de oder 0800-123456. Wir helfen Ihnen gerne weiter und k√∂nnen bei Bedarf auch eine R√ºckerstattung veranlassen."
    },
    adresse: {
      question: "Adresse √§ndern",
      answer: "Wenn Ihre Bestellung weniger als 90 Minuten alt ist, k√∂nnen Sie Ihre Lieferadresse, E-Mail oder andere pers√∂nliche Daten aktualisieren.",
      additionalInfo: "Bei Problemen mit der Adress√§nderung kontaktieren Sie uns unter adresse@marktplatz.de oder 0800-123456. Wir helfen Ihnen gerne weiter."
    },
    zahlung: {
      question: "Zahlungsmethoden",
      answer: "Wir akzeptieren: Kreditkarte, PayPal, SEPA-Lastschrift, Klarna (Kauf auf Rechnung), und Apple Pay/Google Pay. Alle Zahlungen sind sicher und verschl√ºsselt.",
      additionalInfo: "Bei Zahlungsproblemen kontaktieren Sie uns unter zahlung@marktplatz.de oder 0800-123456. Wir k√∂nnen Ihnen alternative Zahlungsmethoden vorschlagen oder bei technischen Problemen helfen."
    },
    konto: {
      question: "Konto & Profil",
      answer: "In Ihrem Konto k√∂nnen Sie: Bestellungen verfolgen, Adressen verwalten, Zahlungsmethoden speichern, Wunschlisten erstellen und E-Mail-Benachrichtigungen verwalten.",
      additionalInfo: "Bei Problemen mit Ihrem Konto oder wenn Sie Ihr Passwort vergessen haben, kontaktieren Sie uns unter konto@marktplatz.de oder 0800-123456. Wir helfen Ihnen gerne weiter."
    }
  };
  
  // Chatbot-Funktionen
  function showChatbot() {
    chatbotInterface.style.display = 'block';
    hilfeThemen.style.display = 'none';
    hilfePanelHeader.style.display = 'none'; // Verstecke lila Header
    
    // Aktiviere orange Farben f√ºr den Chatbot-Header sofort
    const chatbotHeader = document.querySelector('.chatbot-header');
    if (chatbotHeader) {
      chatbotHeader.classList.add('orange-support');
    }
    
    // F√ºge Willkommensnachricht hinzu (mit orange Klassen wenn aktiv)
    addWelcomeMessage();
  }
  
  function hideChatbot() {
    chatbotInterface.style.display = 'none';
    hilfeThemen.style.display = 'flex';
    hilfePanelHeader.style.display = 'flex'; // Zeige lila Header wieder
    chatbotMessages.innerHTML = '';
    
    // Deaktiviere orange Support-Farben
    deactivateOrangeSupport();
  }
  
  function addWelcomeMessage() {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const welcomeMessage = `
      <div class="chatbot-message bot-message">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
            <i class="bi bi-headset"></i>
          </div>
          <div class="message-text ${orangeClass}">
            <p>Hallo! Ich bin Ihr Comfort Consultant Support EU. Wie kann ich Ihnen heute helfen?</p>
            <div class="quick-topics">
              <button class="quick-topic-btn ${orangeClass}" data-topic="adresse">Adresse √§ndern</button>
              <button class="quick-topic-btn ${orangeClass}" data-topic="bestellung">Bestellung stornieren</button>
              <button class="quick-topic-btn ${orangeClass}" data-topic="versand">Versand & Lieferzeiten</button>
            </div>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.innerHTML = welcomeMessage;
  }
  
  function addUserMessage(message) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const userMessage = `
      <div class="chatbot-message user-message">
        <div class="message-content">
          <div class="message-text ${orangeClass}">
            <p>${message}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', userMessage);
  }
  
  function addBotMessage(response, showFeedback = true) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const botMessage = `
      <div class="chatbot-message bot-message">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
            <i class="bi bi-headset"></i>
          </div>
          <div class="message-text ${orangeClass}">
            <p>${response.answer}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', botMessage);
    
    if (showFeedback) {
      showFeedbackButtons(response);
    }
  }
  
  function addAdditionalInfo(additionalInfo) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const additionalMessage = `
      <div class="chatbot-message bot-message additional-info">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
            <i class="bi bi-info-circle"></i>
          </div>
          <div class="message-text ${orangeClass}">
            <p><strong>Zus√§tzliche Informationen:</strong></p>
            <p>${additionalInfo}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', additionalMessage);
  }
  
  function showFeedbackButtons(response) {
    const feedbackButtons = document.getElementById('feedbackButtons');
    feedbackButtons.style.display = 'flex';
    
    // Event listeners f√ºr Feedback-Buttons
    const helpfulBtn = feedbackButtons.querySelector('.helpful-btn');
    const notHelpfulBtn = feedbackButtons.querySelector('.not-helpful-btn');
    
    // Entferne alte Event Listeners
    helpfulBtn.replaceWith(helpfulBtn.cloneNode(true));
    notHelpfulBtn.replaceWith(notHelpfulBtn.cloneNode(true));
    
    // Neue Event Listeners
    const newHelpfulBtn = feedbackButtons.querySelector('.helpful-btn');
    const newNotHelpfulBtn = feedbackButtons.querySelector('.not-helpful-btn');
    
    newHelpfulBtn.addEventListener('click', () => {
      addFeedbackMessage('Vielen Dank f√ºr Ihr Feedback! üëç Das freut uns zu h√∂ren.');
      hideFeedbackButtons();
    });
    
    newNotHelpfulBtn.addEventListener('click', () => {
      addFeedbackMessage('Entschuldigung, dass die Antwort nicht hilfreich war. Hier sind weitere Informationen:');
      addAdditionalInfo(response.additionalInfo);
      hideFeedbackButtons();
    });
  }
  
  function hideFeedbackButtons() {
    const feedbackButtons = document.getElementById('feedbackButtons');
    feedbackButtons.style.display = 'none';
  }
  
  function addFeedbackMessage(message) {
    const orangeClass = window.orangeSupportActive ? 'orange-support' : '';
    const feedbackMessage = `
      <div class="chatbot-message bot-message feedback-message">
        <div class="message-content">
          <div class="bot-avatar ${orangeClass}">
            <i class="bi bi-headset"></i>
          </div>
          <div class="message-text ${orangeClass}">
            <p>${message}</p>
          </div>
        </div>
      </div>
    `;
    chatbotMessages.insertAdjacentHTML('beforeend', feedbackMessage);
  }
  
  function handleTopicClick(topic) {
    const response = topicResponses[topic];
    if (response) {
      addUserMessage(response.question);
      setTimeout(() => {
        addBotMessage(response);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }, 500);
    }
  }
  
  function activateOrangeSupport() {
    // F√ºge orange Klassen zu den relevanten Elementen hinzu
    const hilfePanelHeader = document.getElementById('hilfePanelHeader');
    const chatbotHeader = document.querySelector('.chatbot-header');
    const messageTexts = document.querySelectorAll('.message-text');
    const botAvatars = document.querySelectorAll('.bot-avatar');
    const quickTopicBtns = document.querySelectorAll('.quick-topic-btn');
    const hilfeThemaBtns = document.querySelectorAll('.hilfe-thema-btn');
    
    if (hilfePanelHeader) {
      hilfePanelHeader.classList.add('orange-support');
    }
    if (chatbotHeader) {
      chatbotHeader.classList.add('orange-support');
    }
    
    // F√ºge orange Klassen zu allen Nachrichten und Avataren hinzu
    messageTexts.forEach(text => {
      text.classList.add('orange-support'); // Alle Nachrichten (Bot und Benutzer)
    });
    
    botAvatars.forEach(avatar => {
      avatar.classList.add('orange-support');
    });
    
    // F√ºge orange Klassen zu Quick Topic Buttons hinzu
    quickTopicBtns.forEach(btn => {
      btn.classList.add('orange-support');
    });
    
    // F√ºge orange Klassen zu Hilfe-Themen-Buttons hinzu
    hilfeThemaBtns.forEach(btn => {
      btn.classList.add('orange-support');
    });
    
    // Setze einen Flag, damit neue Nachrichten automatisch orange werden
    window.orangeSupportActive = true;
  }
  
  function deactivateOrangeSupport() {
    // Entferne orange Klassen von den relevanten Elementen
    const hilfePanelHeader = document.getElementById('hilfePanelHeader');
    const chatbotHeader = document.querySelector('.chatbot-header');
    const messageTexts = document.querySelectorAll('.message-text');
    const botAvatars = document.querySelectorAll('.bot-avatar');
    const quickTopicBtns = document.querySelectorAll('.quick-topic-btn');
    const hilfeThemaBtns = document.querySelectorAll('.hilfe-thema-btn');
    
    if (hilfePanelHeader) {
      hilfePanelHeader.classList.remove('orange-support');
    }
    if (chatbotHeader) {
      chatbotHeader.classList.remove('orange-support');
    }
    
    messageTexts.forEach(text => {
      text.classList.remove('orange-support');
    });
    
    botAvatars.forEach(avatar => {
      avatar.classList.remove('orange-support');
    });
    
    quickTopicBtns.forEach(btn => {
      btn.classList.remove('orange-support');
    });
    
    hilfeThemaBtns.forEach(btn => {
      btn.classList.remove('orange-support');
    });
    
    // Entferne den Flag
    window.orangeSupportActive = false;
  }
  
  // Event Listeners f√ºr X-Button
  if (hilfePanelClose) {
    hilfePanelClose.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      e.stopImmediatePropagation();
      console.log('X-Button geklickt - Panel wird geschlossen');
      
      // Sofort schlie√üen ohne Animation
      hilfePanel.classList.remove('offen');
      document.body.classList.remove('help-panel-open');
      hilfePanel.style.display = 'none';
      
      // Restore body styles (especially important for mobile)
      document.body.style.overflow = '';
      document.body.style.height = '';
      
      hideChatbot();
      console.log('Panel sofort geschlossen');
    });
  }
  
  // Back button im Chatbot
  if (backButton) {
    backButton.addEventListener('click', () => {
      hideChatbot();
    });
  }
  
  // Hilfe-Themen Buttons
  document.querySelectorAll('.hilfe-thema-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const topic = btn.getAttribute('data-topic');
      // Aktiviere orange Farben sofort beim Klick
      activateOrangeSupport();
      showChatbot();
      setTimeout(() => {
        handleTopicClick(topic);
      }, 300);
    });
  });
  
  // Quick topic buttons (werden dynamisch erstellt)
  document.addEventListener('click', (e) => {
    if (e.target.classList.contains('quick-topic-btn')) {
      const topic = e.target.getAttribute('data-topic');
      // Aktiviere orange Support-Farben f√ºr Quick Topic Buttons
      activateOrangeSupport();
      handleTopicClick(topic);
    }
  });
  
  // Schlie√üe das Panel beim Klick au√üerhalb
  document.addEventListener('mousedown', function(event) {
    if (
      hilfePanel.classList.contains('offen') &&
      !hilfePanel.contains(event.target) &&
      !hilfeButton.contains(event.target) &&
      !event.target.closest('#hilfePanelClose')
    ) {
      console.log('Klick au√üerhalb - Panel wird geschlossen');
      hilfePanel.classList.remove('offen');
      document.body.classList.remove('help-panel-open');
      hilfePanel.style.display = 'none';
      hideChatbot();
    }
  });
  
  console.log('Script geladen!');
</script>
<script>
  // Herz-Icon bei Hover f√ºllen
  const heartIcon = document.getElementById('heartIcon');
  const wishlistButton = document.getElementById('wishlistButton');
  wishlistButton.addEventListener('mouseenter', () => {
    heartIcon.classList.remove('bi-heart');
    heartIcon.classList.add('bi-heart-fill');
  });
  wishlistButton.addEventListener('mouseleave', () => {
    heartIcon.classList.remove('bi-heart-fill');
    heartIcon.classList.add('bi-heart');
  });
</script>
<script>
  // Funktionalit√§t f√ºr den Schlie√üen-Knopf (X) im Warenkorb-Dropdown
  const closeCartDropdownButton = document.getElementById('closeCartDropdown');
  const cartDropdown = document.getElementById('cartDropdown');
  const hilfeBtnCart = document.getElementById('hilfeButton');
  const scrollBtnCart = document.getElementById('scrollToTopBtn');

  closeCartDropdownButton.addEventListener('click', () => {
    // Entfernt die 'show'-Klasse, um das Dropdown zu schlie√üen.
    cartDropdown.classList.remove('show');
    // Zeige die Kn√∂pfe wieder an
    if (hilfeBtnCart) {
      hilfeBtnCart.style.display = 'flex';
      hilfeBtnCart.style.visibility = 'visible';
      hilfeBtnCart.style.opacity = '1';
      hilfeBtnCart.style.zIndex = '1000';
      hilfeBtnCart.style.position = 'fixed';
      hilfeBtnCart.style.left = '';
      hilfeBtnCart.style.top = '';
      hilfeBtnCart.style.transform = '';
    }
    if (scrollBtnCart) {
      scrollBtnCart.style.display = 'flex';
      scrollBtnCart.style.visibility = 'visible';
      scrollBtnCart.style.opacity = '1';
      scrollBtnCart.style.zIndex = '1000';
      scrollBtnCart.style.position = 'fixed';
      scrollBtnCart.style.left = '';
      scrollBtnCart.style.top = '';
      scrollBtnCart.style.transform = '';
    }
    // Entferne Body-Scroll-Sperre
    document.body.classList.remove('cart-open');
  });
  
  // Verstecke Kn√∂pfe wenn Warenkorb ge√∂ffnet wird
  document.getElementById('cartButton').addEventListener('click', () => {
    setTimeout(() => {
      if (cartDropdown.classList.contains('show')) {
        // Verstecke Kn√∂pfe komplett
        if (hilfeBtnCart) {
          hilfeBtnCart.style.display = 'none';
          hilfeBtnCart.style.visibility = 'hidden';
          hilfeBtnCart.style.opacity = '0';
          hilfeBtnCart.style.zIndex = '-1';
          hilfeBtnCart.style.position = 'absolute';
          hilfeBtnCart.style.left = '-9999px';
          hilfeBtnCart.style.top = '-9999px';
          hilfeBtnCart.style.transform = 'translateX(-9999px)';
        }
        if (scrollBtnCart) {
          scrollBtnCart.style.display = 'none';
          scrollBtnCart.style.visibility = 'hidden';
          scrollBtnCart.style.opacity = '0';
          scrollBtnCart.style.zIndex = '-1';
          scrollBtnCart.style.position = 'absolute';
          scrollBtnCart.style.left = '-9999px';
          scrollBtnCart.style.top = '-9999px';
          scrollBtnCart.style.transform = 'translateX(-9999px)';
        }
        // Verhindere Scrollen auf dem Body
        document.body.classList.add('cart-open');
      }
    }, 100);
  });
</script>
<script>
// Suchfeld leeren, wenn auf eine Kategorie oder 'Alle Produkte entdecken' geklickt wird
function clearSearchInput() {
  var searchInput = document.getElementById('searchInput');
  if (searchInput) searchInput.value = '';
}
</script>

<!-- Scripts am Ende laden f√ºr bessere Performance -->
<script src="app.js?v=18.0"></script>
<script src="cart.js"></script>


<script>
// Check if help panel should be opened automatically (from contact page)
document.addEventListener('DOMContentLoaded', function() {
  if (localStorage.getItem('openHelpPanel') === 'true') {
    localStorage.removeItem('openHelpPanel');
    
    // Wait a bit for the page to fully load, then open help panel
    setTimeout(function() {
      const hilfeButton = document.getElementById('hilfeButton');
      if (hilfeButton) {
        hilfeButton.click();
      }
    }, 500);
  }
});
</script>
</body>
</html>
